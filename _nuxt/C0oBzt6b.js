var w=Object.defineProperty;var $=(e,t,i)=>t in e?w(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i;var r=(e,t,i)=>$(e,typeof t!="symbol"?t+"":t,i);import{ag as S,f as v,L as x,c as C,p as L,a6 as O,ah as N,ai as R}from"./CV75n9Ez.js";function q(e){return new URL(window.location.href)}const l=Symbol("criticalContext");function k({critical:e}={}){const t=S(),i=v("critical"in t?t.critical===""||String(t.critical)==="true":e),s=x(l,i.value||!1),n=C(()=>typeof i.value=="boolean"?i.value:s);return L(l,n.value||e),{isCritical:n,critical:s}}function z(e){let t=0;if(e.length===0)return t;for(let i=0;i<e.length;i++){const s=e.charCodeAt(i);t=(t<<5)-t+s,t=t&t}return t}function a(e){return z(e).toString(16)}function h(e){return e.split(`
`).map(t=>t.trim()).join(" ")}const A=["avif","webp","png","jpg","gif"],M="jpg",j=e=>{const{pathname:t}=R(e),i=/[.]/.exec(t)&&/[^.]+$/.exec(t)[0];return A.includes(i)?i:M};async function D(e,t,i){window.Image?e=e.modify({src:t}):e=e.modify({src:O(t)?t:N(t,q().origin)});const{width:s,height:n}=await i.getImageSize(e.src);return e.modify({width:s,height:n})}class o{constructor({src:t,sizes:i,width:s,height:n,media:u="all",quality:c=70,format:d=null,preload:f=!1,modifiers:p={},provider:g=void 0,preset:y=void 0,densities:m=void 0}){r(this,"src",null);r(this,"sizes",null);r(this,"media",null);r(this,"width",null);r(this,"height",null);r(this,"format",null);r(this,"quality",null);r(this,"preload",!1);r(this,"modifiers",{});r(this,"provider");r(this,"preset");r(this,"densities");this.src=t,this.sizes=i,this.media=u,this.width=s,this.height=n,this.format=F(t,d),this.quality=c,this.preload=f,this.modifiers=p,this.provider=g,this.preset=y,this.densities=m}get key(){return a(JSON.stringify(this.toJSON()))}get ratio(){return this.width/this.height}get className(){return`image-${a(J(this.src))}`}get style(){return`
      @supports (aspect-ratio: 1) {
        @media ${this.media} { .${this.className} { aspect-ratio: ${this.width} / ${this.height}; } }
      }
    `}getModifiers(){return{...this.modifiers,format:this.format,quality:this.quality}}getOptions(t){return{provider:this.provider,preset:this.preset,densities:this.densities||t.densities}}getMeta(t,i){return D(new o({...this.toJSON()}),t,i)}getPreload(t,i,s){const n={rel:"preload",as:"image",imagesrcset:t,imagesizes:i,media:this.media};return s&&(n.crossorigin=s),n}modify(t){return new o({...this.toJSON(),...t})}toJSON(){return{src:this.src,sizes:this.sizes,media:this.media,width:this.width,height:this.height,format:this.format,quality:this.quality,preload:this.preload,modifiers:this.modifiers,provider:this.provider,preset:this.preset,densities:this.densities}}static create(...t){return new this(...t)}}function F(e,t){const i=j(e);return t!=null&&t.includes(i)?i:t||i}function J(e){if(e.startsWith("/"))return e;const t=new URL(e);return t.pathname+t.search+t.hash}function H(e,t){return{key:t,type:"text/css",children:h(new o(e.value).style)}}function I(e,t){return{key:t.picture,type:"text/css",children:h(e.style)}}function B(e,t,i="high",s="anonymous",n=()=>{}){return{tagPriority:2,fetchpriority:i,"data-key":a(`${e.family}-${e.weight}-${e.style}-${t}`.toLowerCase()),key:a(`${e.family}-${e.weight}-${e.style}-${t}`.toLowerCase()),rel:"preload",as:"font",crossorigin:s,href:e.src,type:e.type,media:t,onload:n}}function T(e,t=!1,i=void 0){return t?P(`<style>${e}</style>`,i):{key:i,type:"text/css",children:h(e)}}function P(e,t=void 0){return{key:t,innerHTML:h(e)}}export{o as S,T as a,H as b,I as c,B as g,J as n,a as t,k as u};
