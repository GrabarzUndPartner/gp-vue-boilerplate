import{g as a,t as p,u as g}from"./C_JOud9n.js";import{z as f,G as m,Y as h,J as S,W as y}from"./0VW2ZqkI.js";class d{constructor(){this.list=[]}getKey(){return u(JSON.stringify(this.list.map(t=>t.getKey())))}add(t){const i={name:"data-font",value:`${u(JSON.stringify(t.map(e=>e.getKey())))}`};return this.list=[...this.list,...t.map(e=>(e.setRootSelector(i),e))],i}getPreloadDescriptions(t,i="anonymous"){return Array.from(this.list.reduce((e,s)=>e,new Map).values())}getStyleDescriptions(t){return c([a(this.list.map(i=>i.getCSSText(t)).join(" "),!1,this.getKey())])}getNoScriptStyleDescriptions(){return c([a(this.list.map(t=>t.getNoScriptCSSText()).join(" "),!0,this.getKey())])}get size(){return this.list.length}toJSON(){return{list:this.list.map(t=>t.toJSON())}}}function u(o,t){return p(`${o}_${t}`).padStart(9,"-")}function c(o){return o.filter(t=>t.key!=="0")}function C(){const{booster:o}=f().public;return o}function N(o={}){const{isCritical:t,critical:i}=g(o),e=C(),s=m(),n=h(new d),l={usedFontaine:e.usedFontaine};try{const r=s.$booster.head.push(n,t.value,l);S(()=>y(()=>r.dispose()))}catch(r){console.error(r)}return{isCritical:t,critical:i,$getFont:(...r)=>({runtimeConfig:e,isCritical:t.value,fontCollection:n,definition:s.$booster.getFont(...r)})}}export{N as u};
