import{a as c,t as p,u as g}from"./COJ5kfEp.js";import{a as f,l as d,ad as m,Y as S,S as h}from"./D1MsOw-6.js";class y{constructor(){this.list=[]}getKey(){return u(JSON.stringify(this.list.map(t=>t.getKey())))}add(t){const i={name:"data-font",value:`${u(JSON.stringify(t.map(e=>e.getKey())))}`};return this.list=[...this.list,...t.map(e=>(e.setRootSelector(i),e))],i}getPreloadDescriptions(t,i="anonymous"){return Array.from(this.list.reduce((e,n)=>e,new Map).values())}getStyleDescriptions(t){return l([c(this.list.map(i=>i.getCSSText(t)).join(" "),!1,this.getKey())])}getNoScriptStyleDescriptions(){return l([c(this.list.map(t=>t.getNoScriptCSSText()).join(" "),!0,this.getKey())])}get size(){return this.list.length}toJSON(){return{list:this.list.map(t=>t.toJSON())}}}function u(o,t){return p(`${o}_${t}`).padStart(9,"-")}function l(o){return o.filter(t=>t.key!=="0")}function C(){const{booster:o}=f().public;return o}function N(o){const{isCritical:t,critical:i}=g(o),e=C(),n=d(),r=m(new y),a={usedFontaine:e.usedFontaine};try{const s=n.$booster.head.push(r,t.value,a);S(()=>h(()=>s.dispose()))}catch(s){console.error(s)}return{isCritical:t,critical:i,$getFont:(...s)=>({runtimeConfig:e,isCritical:t.value,fontCollection:r,definition:n.$booster.getFont(...s)})}}export{N as u};
