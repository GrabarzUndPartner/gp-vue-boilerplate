import{c,t as p,u as g}from"./B0iVVfoT.js";import{C as f,am as m,a0 as d,z as h,R as y}from"./CHMU-aWj.js";function S(){const{booster:o}=f().public;return o}class C{constructor(){this.list=[]}getKey(){return u(JSON.stringify(this.list.map(t=>t.getKey())))}add(t){const i={name:"data-font",value:`${u(JSON.stringify(t.map(e=>e.getKey())))}`};return this.list=[...this.list,...t.map(e=>(e.setRootSelector(i),e))],i}getPreloadDescriptions(t,i="anonymous"){return Array.from(this.list.reduce((e,n)=>e,new Map).values())}getStyleDescriptions(t){return l([c(this.list.map(i=>i.getCSSText(t)).join(" "),!1,this.getKey())])}getNoScriptStyleDescriptions(){return l([c(this.list.map(t=>t.getNoScriptCSSText()).join(" "),!0,this.getKey())])}get size(){return this.list.length}toJSON(){return{list:this.list.map(t=>t.toJSON())}}}function u(o,t){return p(`${o}_${t}`).padStart(9,"-")}function l(o){return o.filter(t=>t.key!=="0")}function N(o){const{isCritical:t,critical:i}=g(o),e=S(),n=y(),r=m(new C),a={usedFontaine:e.usedFontaine};try{const s=n.$booster.head.push(r,t.value,a);d(()=>h(()=>s.dispose()))}catch(s){console.error(s)}return{isCritical:t,critical:i,$getFont:(...s)=>({runtimeConfig:e,isCritical:t.value,fontCollection:r,definition:n.$booster.getFont(...s)})}}export{N as u};
