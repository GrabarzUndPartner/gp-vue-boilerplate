var me=Object.defineProperty;var ge=(e,t,i)=>t in e?me(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i;var A=(e,t,i)=>(ge(e,typeof t!="symbol"?t+"":t,i),i);import{S as p,u as H,g as pe,t as ye,n as we,a as ve}from"./B0iVVfoT.js";import{D as se,E as _e,G as xe,H as Se,s as Ie,I as $e,J as Me,e as P,K as be,L as E,M as ze,B,N as We,O as ie,P as Ne,Q as V,C as Ae,R as W,_ as C,v as re,o as _,k as M,m as Be,S as D,F as He,A as Pe,c as Ce,a as Le,h as U,T as x}from"./CHMU-aWj.js";import{u as ke}from"./DX2JaI1B.js";import{u as L}from"./HvjMUDuO.js";import{g as ne}from"./CDt2gKc5.js";function je({willPerformHydration:e,hydrate:t,onCleanup:i},s=2e3){if(!e)return;if(!se())throw new Error("useHydrateWhenIdle must be called from the setup or lifecycle hook methods.");if(!("requestIdleCallback"in window)){t();return}const r=requestIdleCallback(()=>{t()},{timeout:s});i(()=>{cancelIdleCallback(r)})}function Fe({willPerformHydration:e,hydrate:t,onCleanup:i},s){if(!e)return;if(!se())throw new Error("useHydrateWhenTriggered must be called from the setup or lifecycle hook methods.");const r=_e(xe(s)?s:()=>s,n=>{n&&t()},{immediate:!0});i(r)}const Q=e=>e.length===1?e[0]:e,Oe=Ie({name:"LazyHydrationWrapper",inheritAttrs:!1,suspensible:!1,props:{whenIdle:{default:!1,type:[Boolean,Number]},whenVisible:{default:!1,type:[Boolean,Object]},onInteraction:{default:!1,type:[Array,Boolean,String]},whenTriggered:{default:void 0,type:[Boolean,Object]}},emits:["hydrated"],setup(e,{slots:t,emit:i}){const s=$e();if(!s.willPerformHydration)return()=>Q(t.default());if(s.onHydrated(()=>i("hydrated")),e.whenIdle&&je(s,e.whenIdle!==!0?e.whenIdle:void 0),e.whenVisible&&Me(s,e.whenVisible!==!0?e.whenVisible:void 0),e.onInteraction){let r;e.onInteraction!==!0&&(r=P(()=>Array.isArray(e.onInteraction)?e.onInteraction:[e.onInteraction]).value),ke(s,r)}return e.whenTriggered!==void 0&&Fe(s,be(e,"whenTriggered")),()=>Q(t.default())}}),Re=Se(Oe);async function Te(e,t){return await Ee(t).catch(s=>(console.error("Failed to get image meta for "+t,s+""),{width:0,height:0,ratio:0}))}async function Ee(e){if(typeof Image>"u")throw new TypeError("Image not supported");return new Promise((t,i)=>{const s=new Image;s.onload=()=>{const r={width:s.width,height:s.height,ratio:s.width/s.height};t(r)},s.onerror=r=>i(r),s.src=e})}function q(e){return t=>t?e[t]||t:e.missingValue}function Ve({formatter:e,keyMap:t,joinWith:i="/",valueMap:s}={}){e||(e=(n,o)=>`${n}=${o}`),t&&typeof t!="function"&&(t=q(t));const r=s||{};return Object.keys(r).forEach(n=>{typeof r[n]!="function"&&(r[n]=q(r[n]))}),(n={})=>Object.entries(n).filter(([a,c])=>typeof c<"u").map(([a,c])=>{const l=r[a];return typeof l=="function"&&(c=l(n[a])),a=typeof t=="function"?t(a):a,e(a,c)}).join(i)}function b(e=""){if(typeof e=="number")return e;if(typeof e=="string"&&e.replace("px","").match(/^\d+$/g))return Number.parseInt(e,10)}function De(e=""){if(e===void 0||!e.length)return[];const t=new Set;for(const i of e.split(" ")){const s=Number.parseInt(i.replace("x",""));s&&t.add(s)}return Array.from(t)}function Ue(e){if(e.length===0)throw new Error("`densities` must not be empty, configure to `1` to render regular size only (DPR 1.0)")}function Qe(e){const t={};if(typeof e=="string")for(const i of e.split(/[\s,]+/).filter(s=>s)){const s=i.split(":");s.length!==2?t["1px"]=s[0].trim():t[s[0].trim()]=s[1].trim()}else Object.assign(t,e);return t}function qe(e){const t={options:e},i=(r,n={})=>oe(t,r,n),s=(r,n={},o={})=>i(r,{...o,modifiers:ie(n,o.modifiers||{})}).url;for(const r in e.presets)s[r]=(n,o,a)=>s(n,o,{...e.presets[r],...a});return s.options=e,s.getImage=i,s.getMeta=(r,n)=>Ge(t,r,n),s.getSizes=(r,n)=>Xe(t,r,n),t.$img=s,s}async function Ge(e,t,i){const s=oe(e,t,{...i});return typeof s.getMeta=="function"?await s.getMeta():await Te(e,s.url)}function oe(e,t,i){var l,d;if(t&&typeof t!="string")throw new TypeError(`input must be a string (received ${typeof t}: ${JSON.stringify(t)})`);if(!t||t.startsWith("data:"))return{url:t};const{provider:s,defaults:r}=Je(e,i.provider||e.options.provider),n=Ye(e,i.preset);if(t=E(t)?t:ze(t),!s.supportsAlias)for(const u in e.options.alias)t.startsWith(u)&&(t=B(e.options.alias[u],t.substr(u.length)));if(s.validateDomains&&E(t)){const u=We(t).host;if(!e.options.domains.find(h=>h===u))return{url:t}}const o=ie(i,n,r);o.modifiers={...o.modifiers};const a=o.modifiers.format;(l=o.modifiers)!=null&&l.width&&(o.modifiers.width=b(o.modifiers.width)),(d=o.modifiers)!=null&&d.height&&(o.modifiers.height=b(o.modifiers.height));const c=s.getImage(t,o,e);return c.format=c.format||a||"",c}function Je(e,t){const i=e.options.providers[t];if(!i)throw new Error("Unknown provider: "+t);return i}function Ye(e,t){if(!t)return{};if(!e.options.presets[t])throw new Error("Unknown preset: "+t);return e.options.presets[t]}function Xe(e,t,i){var j,F,O,R,T;const s=b((j=i.modifiers)==null?void 0:j.width),r=b((F=i.modifiers)==null?void 0:F.height),n=Qe(i.sizes),o=(O=i.densities)!=null&&O.trim()?De(i.densities.trim()):e.options.densities;Ue(o);const a=s&&r?r/s:0,c=[],l=[];if(Object.keys(n).length>=1){for(const f in n){const m=G(f,String(n[f]),r,a,e);if(m!==void 0){c.push({size:m.size,screenMaxWidth:m.screenMaxWidth,media:`(max-width: ${m.screenMaxWidth}px)`});for(const y of o)l.push({width:m._cWidth*y,src:J(e,t,i,m,y)})}}Ze(c)}else for(const f of o){const m=Object.keys(n)[0];let y=G(m,String(n[m]),r,a,e);y===void 0&&(y={size:"",screenMaxWidth:0,_cWidth:(R=i.modifiers)==null?void 0:R.width,_cHeight:(T=i.modifiers)==null?void 0:T.height}),l.push({width:f,src:J(e,t,i,y,f)})}Ke(l);const d=l[l.length-1],u=c.length?c.map(f=>`${f.media?f.media+" ":""}${f.size}`).join(", "):void 0,h=u?"w":"x",fe=l.map(f=>`${f.src} ${f.width}${h}`).join(", ");return{sizes:u,srcset:fe,src:d==null?void 0:d.src}}function G(e,t,i,s,r){const n=r.options.screens&&r.options.screens[e]||Number.parseInt(e),o=t.endsWith("vw");if(!o&&/^\d+$/.test(t)&&(t=t+"px"),!o&&!t.endsWith("px"))return;let a=Number.parseInt(t);if(!n||!a)return;o&&(a=Math.round(a/100*n));const c=s?Math.round(a*s):i;return{size:t,screenMaxWidth:n,_cWidth:a,_cHeight:c}}function J(e,t,i,s,r){return e.$img(t,{...i.modifiers,width:s._cWidth?s._cWidth*r:void 0,height:s._cHeight?s._cHeight*r:void 0},i)}function Ze(e){var i;e.sort((s,r)=>s.screenMaxWidth-r.screenMaxWidth);let t=null;for(let s=e.length-1;s>=0;s--){const r=e[s];r.media===t&&e.splice(s,1),t=r.media}for(let s=0;s<e.length;s++)e[s].media=((i=e[s+1])==null?void 0:i.media)||""}function Ke(e){e.sort((i,s)=>i.width-s.width);let t=null;for(let i=e.length-1;i>=0;i--){const s=e[i];s.width===t&&e.splice(i,1),t=s.width}}const et=Ve({keyMap:{format:"f",fit:"fit",width:"w",height:"h",resize:"s",quality:"q",background:"b"},joinWith:"&",formatter:(e,t)=>V(e)+"_"+V(t)}),tt=(e,{modifiers:t={},baseURL:i}={},s)=>{t.width&&t.height&&(t.resize=`${t.width}x${t.height}`,delete t.width,delete t.height);const r=et(t)||"_";return i||(i=B(s.options.nuxt.baseURL,"/_ipx")),{url:B(i,r,Ne(e))}},st=!0,it=!0,rt=Object.freeze(Object.defineProperty({__proto__:null,getImage:tt,supportsAlias:it,validateDomains:st},Symbol.toStringTag,{value:"Module"})),ae={screens:{xs:576,sm:768,md:996,lg:1200,xl:1367,xxl:1600,"2xl":1536,default:320,xxs:480,"4k":1921},presets:{},provider:"ipxStatic",domains:["picsum.photos","img.youtube.com","i.vimeocdn.com","i.pickadummy.com"],alias:{"/picsum":"https://picsum.photos","/youtube":"https://img.youtube.com","/vimeo":"https://i.vimeocdn.com","/pickadummy":"https://i.pickadummy.com"},densities:[1,2],format:["webp"]};ae.providers={ipxStatic:{provider:rt,defaults:{}}};const k=()=>{const e=Ae(),t=W();return t.$img||t._img||(t._img=qe({...ae,nuxt:{baseURL:e.app.baseURL}}))};function ce(e){return["anonymous","use-credentials"].includes(e)}var Y={};const nt={inheritAttrs:!1,props:{source:{type:[p,Object],default:null},title:{type:String,required:!0},alt:{type:String,default:null},crossorigin:{type:[Boolean,String],default(){return null},validator:ce}},emits:["load"],async setup(e){const t=k(),i=W().$booster,{isCritical:s}=H(),r=P(()=>ne(e.crossorigin||i.crossorigin));if(e.source){const n=new p(e.source),o=t.getSizes(n.src,{sizes:n.sizes,modifiers:n.getModifiers(),...n.getOptions(i)}),a=re(null);return L(()=>{if(a.value)return{style:[a.value&&pe(a,a.value.className)].filter(Boolean),link:[!(!o||!s.value)&&Y.prerender&&new p(n).getPreload(o.srcset,o.sizes,r.value)].filter(Boolean),noscript:[Y.prerender&&{key:"img-nojs",children:`<style>
img{content-visibility:unset!important}
</style>`}].filter(Boolean)}}),a.value=await n.getMeta(o.src,i),{isCritical:s,config:o,meta:a,className:a.value.className,resolvedCrossorigin:r}}return{isCritical:s,resolvedCrossorigin:r}},data(){return{className:null,loading:!0,config:null,meta:null}},computed:{classNames(){return[{loading:this.loading}].concat(this.className)},srcset(){var e,t;return((e=this.config)==null?void 0:e.srcset)||((t=this.config)==null?void 0:t.src)},sizes(){var e;return(e=this.config)==null?void 0:e.sizes},width(){var e;return this.$attrs.width||((e=this.meta)==null?void 0:e.width)},height(){var e;return this.$attrs.height||((e=this.meta)==null?void 0:e.height)},loadingMode(){return this.isCritical?"eager":"lazy"},decodingMode(){return!this.source||new p(this.source).format!=="svg"?"async":"sync"}},mounted(){this.loading=!this.$el.complete,this.loading||this.onLoad({target:this.$el})},methods:{onLoad(e){this.loading=!1,this.$emit("load",e.target)}}},ot=["srcset","sizes","width","height","title","alt","loading","decoding","crossorigin"];function at(e,t,i,s,r,n){return _(),M("img",Be(e.$attrs,{srcset:n.srcset,sizes:n.sizes,width:n.width,height:n.height,class:["nuxt-booster-image",n.classNames],title:i.title,alt:i.alt||i.title,loading:n.loadingMode,decoding:n.decodingMode,crossorigin:s.resolvedCrossorigin,onLoad:t[0]||(t[0]=(...o)=>n.onLoad&&n.onLoad(...o))}),null,16,ot)}const ct=C(nt,[["render",at],["__scopeId","data-v-1433b11a"]]),le=/(!?\(\s*min(-device)?-width)(.|\n)+\(\s*max(-device)?-width|\(\s*width\s*>(=)?(.|\n)+\(\s*width\s*<(=)?|(!?\(.*<(=)?\s*width\s*<(=)?)/i,lt=/\(\s*min(-device)?-width|\(\s*width\s*>(=)?/i,ue=/(!?\(\s*max(-device)?-width)(.|\n)+\(\s*min(-device)?-width|\(\s*width\s*<(=)?(.|\n)+\(\s*width\s*>(=)?|(!?\(.*>(=)?\s*width\s*>(=)?)/i,ut=/\(\s*max(-device)?-width|\(\s*width\s*<(=)?/i,w=N(le,ue,lt),S=N(ue,le,ut),de=/(!?\(\s*min(-device)?-height)(.|\n)+\(\s*max(-device)?-height|\(\s*height\s*>(=)?(.|\n)+\(\s*height\s*<(=)?|(!?\(.*<(=)?\s*height\s*<(=)?)/i,dt=/\(\s*min(-device)?-height|\(\s*height\s*>(=)?/i,he=/(!?\(\s*max(-device)?-height)(.|\n)+\(\s*min(-device)?-height|\(\s*height\s*<(=)?(.|\n)+\(\s*height\s*>(=)?|(!?\(.*>(=)?\s*height\s*>(=)?)/i,ht=/\(\s*max(-device)?-height|\(\s*height\s*<(=)?/i,v=N(de,he,dt),I=N(he,de,ht),X=/print/i,Z=/^print$/i,g=Number.MAX_VALUE;function $(e){let t=/(-?\d*\.?\d+)(ch|em|ex|px|rem)/.exec(e);if(t===null&&(w(e)||v(e))&&(t=/(\d)/.exec(e)),t==="0")return 0;if(t===null)return g;let i=t[1];switch(t[2]){case"ch":i=parseFloat(i)*8.8984375;break;case"em":case"rem":i=parseFloat(i)*16;break;case"ex":i=parseFloat(i)*8.296875;break;case"px":i=parseFloat(i);break}return+i}function N(e,t,i){return function(s){return e.test(s)?!0:t.test(s)?!1:i.test(s)}}function K(e,t){const i=X.test(e),s=Z.test(e),r=X.test(t),n=Z.test(t);return i&&r?!s&&n?1:s&&!n?-1:e.localeCompare(t):i?1:r?-1:null}function ft(e){const i={}.unitlessMqAlwaysFirst;function s(r,n){const o=K(r,n);if(o!==null)return o;const a=w(r)||v(r),c=S(r)||I(r),l=w(n)||v(n),d=S(n)||I(n);if(i&&(!a&&!c||!l&&!d))return!a&&!c&&!l&&!d?r.localeCompare(n):!l&&!d?1:-1;{if(a&&d)return-1;if(c&&l)return 1;const u=$(r),h=$(n);return u===g&&h===g?r.localeCompare(n):u===g?1:h===g?-1:u>h?c?-1:1:u<h?c?1:-1:r.localeCompare(n)}}return s.desktopFirst=function(r,n){const o=K(r,n);if(o!==null)return o;const a=w(r)||v(r),c=S(r)||I(r),l=w(n)||v(n),d=S(n)||I(n);if(i&&(!a&&!c||!l&&!d))return!a&&!c&&!l&&!d?r.localeCompare(n):!l&&!d?1:-1;{if(a&&d)return 1;if(c&&l)return-1;const u=$(r),h=$(n);return u===g&&h===g?r.localeCompare(n):u===g?1:h===g?-1:u>h?c?-1:1:u<h?c?1:-1:-r.localeCompare(n)}},s}const mt=ft();class z{constructor(t,i={}){A(this,"list",[]);A(this,"sort",!1);i=i||{},this.sort=i.sort||!1,this.list=this.list.concat(Array.from(t||this.list).map(s=>new p(s)))}get length(){return this.list.length}[Symbol.iterator](){return this.list.values()}get key(){return this.list.map(t=>t.key).join("-")}get sorted(){return this.sort?this.list.sort((t,i)=>mt(t.media,i.media)):this.list}get style(){return this.list.map(({media:t,width:i,height:s,style:r})=>`
      @media ${t} { .${this.className}::before { padding-top: calc((1 / (${i} / ${s})) * 100%); } }
      @supports (aspect-ratio: 1) {
        @media ${t} { .${this.className} { aspect-ratio: ${i} / ${s}; } }
      }
      ${r}
    `).reverse().join(" ")}get className(){return`picture-${ye(this.sorted.map(({src:t})=>we(t)).join(","))}`}get classNames(){return{picture:this.className,image:this.list.map(t=>t.className)}}getFormats(t,i,s){return this.sorted.reduce((r,n)=>r.concat(t.map(o=>n.modify({format:o,preload:o.includes(i)&&s}))),[])}async getMeta(t,i){const s=await Promise.all(this.sorted.map(r=>{const n=t.getSizes(r.src,{sizes:r.sizes,modifiers:r.getModifiers(),...r.getOptions(i)});return r.getMeta(n.src,i)}));return new z(s)}toJSON(){return this.list}static create(...t){return new this(...t)}}var gt={};const pt=new Map([["jpg","jpeg"]]),yt={props:{source:{type:p,required:!0},crossorigin:{type:[Boolean,String],default(){return null},validator:e=>["anonymous","use-credentials","",!0,!1].includes(e)}},setup(e){const t=k(),i=W().$booster,s=t.getSizes(e.source.src,{sizes:e.source.sizes,modifiers:e.source.getModifiers(),...e.source.getOptions(i)}),r=P(()=>ne(e.crossorigin||i.crossorigin)),n=new p(e.source);return L({link:[s&&n.preload&&gt.prerender&&n.getPreload(s.srcset,s.sizes,r)].filter(Boolean)}),{config:s,resolvedCrossorigin:r}},computed:{srcset(){return this.config.srcset||this.config.src},type(){return`image/${pt.get(this.source.format)||this.source.format}`}}},wt=["srcset","sizes","media","type"];function vt(e,t,i,s,r,n){return _(),M("source",{srcset:n.srcset,sizes:s.config.sizes,media:i.source.media,type:n.type},null,8,wt)}const _t=C(yt,[["render",vt]]),ee=["avif","webp","png","jpg","gif"],xt={components:{PictureSource:_t,BaseImage:ct},props:{sources:{type:[Array,z],required:!0},formats:{type:Array,default(){return null}},title:{type:String,default:null},alt:{type:String,default:null},crossorigin:{type:[Boolean,String],default(){return null},validator:ce},sortSources:{type:Boolean,default:!0}},emits:["load"],async setup(e){const{isCritical:t}=H(),i=k(),s=W().$booster,r=z.create(e.sources,{sort:e.sortSources}),n=re(null);return L(()=>{if(n.value&&n.value.length){const o=n.value.classNames;return{style:[ve(n.value,o)]}}}),n.value=await r.getMeta(i,s),{isCritical:t,resolvedFormats:e.formats||s.targetFormats,sourceList:r,metaSources:n,classNames:n.value.classNames}},computed:{formatSources(){const e=Array.from(new Set(ee.map(i=>this.resolvedFormats.find(s=>s.includes(i))))).filter(Boolean),t=ee.find(i=>this.resolvedFormats.find(s=>s.includes(i)));return this.sourceList.getFormats(e,t,this.isCritical)}},methods:{onLoad(e){this.$emit("load",e)}}};function St(e,t,i,s,r,n){const o=D("picture-source"),a=D("base-image");return _(),M("picture",{class:U([s.classNames.picture,"nuxt-booster-picture"])},[(_(!0),M(He,null,Pe(n.formatSources,c=>(_(),Ce(o,{key:c.key,source:c,crossorigin:i.crossorigin},null,8,["source","crossorigin"]))),128)),Le(a,{class:U(s.classNames.image),title:i.title,alt:i.alt,crossorigin:i.crossorigin,width:"0",height:"0",onLoad:n.onLoad},null,8,["class","title","alt","crossorigin","onLoad"])],2)}const te=C(xt,[["render",St],["__scopeId","data-v-5ea88014"]]),Nt={inheritAttrs:!1,props:{hydrate:{type:Boolean,default:!0}},setup(){const{isCritical:e}=H();return{isCritical:e}},render(){return this.hydrate?x(te,{...this.$attrs,critical:this.isCritical}):x(Re,{never:!0},[x("noscript",{class:"nuxt-booster-picture-noscript"},[x(te,{...this.$attrs,critical:this.hydrate})])])}};export{Nt as _};
