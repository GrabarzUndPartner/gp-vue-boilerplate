var h=Object.defineProperty;var S=(e,t,o)=>t in e?h(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o;var a=(e,t,o)=>S(e,typeof t!="symbol"?t+"":t,o);import{g as l,t as m,u as C}from"./D7rj2JEE.js";import{z as y,G as d,Y as x,J as N,W as v}from"./C_w4IOPj.js";class b{constructor(){a(this,"list");this.list=[]}getKey(){return p(JSON.stringify(this.list.map(t=>t.getKey())))}add(t){const o={name:"data-font",value:`${p(JSON.stringify(t.map(s=>s.getKey())))}`};return this.list=[...this.list,...t.map(s=>(s.setRootSelector(o),s))],o}getPreloadDescriptions(t,o="anonymous"){return Array.from(this.list.reduce((s,i)=>s,new Map).values())}getStyleDescriptions(t){return g([l(this.list.map(o=>o.getCSSText(t)).join(" "),!1,this.getKey())])}getNoScriptStyleDescriptions(){return g([l(this.list.map(t=>t.getNoScriptCSSText()).join(" "),!0,this.getKey())])}get size(){return this.list.length}toJSON(){return{list:this.list.map(t=>t.toJSON())}}}function p(e){return m(e).padStart(9,"-")}function g(e){return e.filter(t=>t.key!=="0")}function D(){const{booster:e}=y().public;return e}function B(e={}){const{isCritical:t}=C(e),o=D(),s=d(),i=x(new b);try{const r=s.$booster.head.push({fontCollection:i,isCritical:t.value,options:o});N(()=>v(()=>r.dispose()))}catch(r){console.error(r)}function f(r,n,u,c){return typeof r=="object"&&(c=r.options,u=r.style,n=r.weight,r=r.family),{runtimeConfig:o,isCritical:t.value,fontCollection:i,definition:s.$booster.getFont(r,n,u,c)}}return{isCritical:t,$getFont:f}}export{B as u};
